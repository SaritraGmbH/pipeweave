# Database Configuration
# Method 1: Connection string (recommended)
DATABASE_URL=postgresql://localhost:5432/pipeweave

# Method 2: Individual credentials (alternative to DATABASE_URL)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=pipeweave
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_SSL=false
# DB_POOL_MAX=10
# DB_ALLOW_EXIT_ON_IDLE=false

# Storage Configuration
# JSON array of storage backend configurations
STORAGE_BACKENDS='[{"id":"local-dev","provider":"local","endpoint":"file://","bucket":"data","credentials":{"basePath":"./storage"},"isDefault":true}]'

# For production with AWS S3:
# STORAGE_BACKENDS='[{"id":"primary-s3","provider":"aws-s3","endpoint":"https://s3.amazonaws.com","bucket":"pipeweave-prod","region":"us-east-1","credentials":{"accessKeyId":"YOUR_ACCESS_KEY","secretAccessKey":"YOUR_SECRET_KEY"},"isDefault":true}]'

# For production with Google Cloud Storage:
# STORAGE_BACKENDS='[{"id":"gcs-prod","provider":"gcs","endpoint":"https://storage.googleapis.com","bucket":"pipeweave-prod","credentials":{"projectId":"YOUR_PROJECT_ID","clientEmail":"YOUR_SERVICE_ACCOUNT_EMAIL","privateKey":"YOUR_PRIVATE_KEY"},"isDefault":true}]'

# Default Storage Backend (optional, uses first if not specified)
# DEFAULT_STORAGE_BACKEND_ID=local-dev

# Security
# Generate with: openssl rand -hex 32
PIPEWEAVE_SECRET_KEY=your-32-byte-hex-secret-key-here

# Orchestrator Configuration
MODE=standalone
PORT=3000
MAX_CONCURRENCY=10
POLL_INTERVAL_MS=1000
DLQ_RETENTION_DAYS=30
IDEMPOTENCY_TTL_SECONDS=86400
MAX_RETRY_DELAY_MS=86400000
MAINTENANCE_CHECK_INTERVAL_MS=5000

# For serverless mode (Cloud Run, Lambda, etc.)
# MODE=serverless
# PORT=8080
